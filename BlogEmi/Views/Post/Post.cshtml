@model List<BlogEmi.Models.Post>

<h2>All Posts</h2>
<a asp-action="Create" class="btn btn-primary">Create New Post</a>

@foreach (var post in Model)
{
    <div class="card mt-3">
        <div class="card-body">
            <h3>@post.Title</h3>
            <p>@post.Content</p>
            <p><strong>Date:</strong> @post.Date.ToString("dd/MM/yyyy")</p>

            @if (post.Image != null && post.Image.Length > 0)
            {
                <img src="data:image/png;base64,@Convert.ToBase64String(post.Image)" alt="Post Image" style="max-width: 200px;" />
            }

            <div class="mt-2">
                <!-- Botón Editar -->
                <a asp-action="Edit" asp-route-id="@post.Id" class="btn btn-warning btn-sm">Edit</a>

                <!-- Botón Eliminar -->
                <a asp-action="Delete" asp-route-id="@post.Id" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this post?')">Delete</a>
            </div>
        </div>
    </div>
}
